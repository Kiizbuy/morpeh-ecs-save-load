# morpeh-ecs-save-load
Данное решение позволяет без особых проблем реализовать полноценную систему сохранения/загрузки синглплеерной игры, которая разрабатывается на MorpehECS. под капотом реализованно:
- простой кодогенератор, который генерирует нам шаблоны методов под те типы компонентов которые нам нужно сериализовать
- крайне гибкая система миграций, которая позволяет без особой боли делать патчинг сейвов
- поддержка fallback типов данных сейва(часто может произойти случаи, когда после выхода патча игры мы после рефакторинга переделали типы компонентов на другие)
- сохранение логически разделено на Persistent данные, и данные уровня
- поддержка инкрементального ассинхронного сохранения/загрузки (за один кадр мы сохраняем N-ое кол-во сущностей), что позволяет делать плавные сохранения не нарушая игровой flow
- NoSQL-like сохранения
- Сериализация сейвов через BSON
- Удобный API

За основу был взят UltraLiteDB и немного оптимизирован BsonWriter с BinaryWriter'ом. Сам сервис не является абсолютно GC-friendly, в идеале на уровне сериализации необходимо использовать ArrayPool'ы и Span'ы там где это возможно. Так же вам ничего не мешает переделать его с ECS на ваш тип архитектуры вашего игрового проекта, если у вас есть в этом острая нужда. Тестировалось на личном Pet проекте. Запись в сохранение с 1500 Entity у которых жирный набор компонентов занимало ~0.7 секунд 

Проект отдается "как есть" без возможной поддержки. используйте на свой страх и риск!
